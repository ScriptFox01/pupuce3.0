<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Pupuce 3.0 | Espace Priv√© Sarah & Moi</title>
    <link rel="stylesheet" href="style.css"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* Styles sp√©cifiques pour le chronom√®tre (d√©plac√©s ici pour l'isolation) */
        .timer-section {
            margin: 50px auto;
            padding: 40px 20px;
            background-color: #fce4ec; 
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }
        .timer-section h2 {
            font-family: 'Quicksand', sans-serif;
            color: #4CAF50; 
            font-size: 2.5em;
            margin-bottom: 30px;
        }
        
        /* Styles pour l'affichage des unit√©s de temps */
        .timer-display {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            font-family: 'Quicksand', sans-serif;
            margin-bottom: 20px;
        }
        .time-unit {
            background-color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            min-width: 100px;
        }
        .time-unit span {
            display: block;
            font-size: 2.5em;
            font-weight: 700;
            color: #4682B4; 
            line-height: 1.1;
        }
        .time-unit p {
            font-size: 0.9em;
            color: #777;
            margin: 5px 0 0;
        }
        .milliseconds {
            font-size: 1.5em !important;
            color: #ff80a6 !important;
            font-weight: 500 !important;
        }
        .secondary-timer {
            opacity: 0.5;
            transform: scale(0.8);
            transition: opacity 0.3s;
            margin-top: 10px;
        }
        .secondary-timer:hover {
            opacity: 1; 
        }
        
        /* Styles pour la nouvelle section documents (liens) */
        .documents-section {
            border: 2px dashed #4CAF50;
            padding: 20px;
            border-radius: 10px;
            margin-top: 50px;
            background-color: #f9f9f9;
        }
        .documents-section h3 {
            color: #1B5E20;
            font-family: 'Quicksand', sans-serif;
            font-size: 1.5em;
            margin-top: 0;
        }
        .documents-section ul {
            list-style: none;
            padding: 0;
            text-align: center;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
        }
        .documents-section li {
            margin: 10px;
        }
        .documents-section a {
            color: #1B5E20;
            text-decoration: underline;
            font-weight: bold;
            font-size: 1.1em;
            transition: color 0.3s;
        }
        .documents-section a:hover {
            color: #ff80a6; 
        }
    </style>
</head>
<body>

    <div id="password-screen">
        <h2>Coucou Pupuce</h2>
        <input type="password" id="password-input" placeholder="c'est facile">
        <button onclick="checkPassword()">Acc√©der</button>
        <p style="color: #ff80a6; margin-top: 10px; font-weight: bold;" id="error-message"></p>
    </div>

    <div id="main-content" style="display: none;">
        
        <header>
            <h1>Bienvenue sur Pupuce 3.0</h1>
            <p>L'Internet des pupuces (et oui on est connect√©)</p>
        </header>

        <nav class="menu">
            <a href="index.html">üíñ ACCUEIL</a>
            <a href="pages/vlog.html">üé¨ VLOGS</a> 
            <a href="pages/souvenirs.html">üì∏ SOUVENIRS</a>
            <a href="pages/voyage.html">üó∫Ô∏è PROJET VOYAGE</a>
            <a href="pages/playlist.html">üéß PLAYLIST</a>
        </nav>
        
        <main>
            <section class="timer-section">
                <h2>√ßa date ?</h2>
                
                <h3 style="color: #4682B4; font-size: 1.5em;">Politiquement Correct</h3>
                <div id="timer-pc" class="timer-display">
                    <div class="time-unit"><span id="years-pc">0</span><p>Ann√©es</p></div>
                    <div class="time-unit"><span id="months-pc">0</span><p>Mois</p></div>
                    <div class="time-unit"><span id="days-pc">0</span><p>Jours</p></div>
                    <div class="time-unit"><span id="hours-pc">0</span><p>Heures</p></div>
                    <div class="time-unit"><span id="minutes-pc">0</span><p>Minutes</p></div>
                    <div class="time-unit"><span id="seconds-pc">0</span><p>Secondes</p></div>
                    <div class="time-unit" style="min-width: 80px;"><span id="milliseconds-pc" class="milliseconds">000</span><p>Millisecondes</p></div>
                </div>

                <div class="secondary-timer">
                    <h3 style="color: #ff80a6; font-size: 1em;">(chut)</h3>
                    <div id="timer-real" class="timer-display">
                        <div class="time-unit"><span id="years-real">0</span><p>Ans</p></div>
                        <div class="time-unit"><span id="months-real">0</span><p>Mois</p></div>
                        <div class="time-unit"><span id="days-real">0</span><p>Jours</p></div>
                        <div class="time-unit"><span id="hours-real">0</span><p>Hrs</p></div>
                        <div class="time-unit"><span id="minutes-real">0</span><p>Min</p></div>
                        <div class="time-unit"><span id="seconds-real">0</span><p>Secondes</p></div>
                        <div class="time-unit" style="min-width: 60px;"><span id="milliseconds-real" class="milliseconds">000</span><p>ms</p></div>
                    </div>
                </div>
                
            </section>
            
            <section style="margin-top: 50px;">
                <h2 style="font-size: 2em; color: #4CAF50;"> Mini-Bilan</h2>
                <p>Bienvenue dans notre petit coin du "web" comme disent les jeunes. Fait avec amour, patience, Gemini et du temps (beaucoup trop) et il sera √©volutif et mis √† jour üòå </p>
                <p>C'est loin d'√™tre parfait mais c'est fait avec le coeur promis, et puis c'est toi la pro du code de base c'est pas moi. ( tu as les acc√®s depuis le d√©but stv modifier des truc ou en ajouter il te suffit de te connecter √† Github mdr)</p>
                <p>Bref voil√† j'esp√®re √ßa te pla√Æt :) </p>
            </section>
            
            <section class="documents-section">
                <h3>Documents & Promesses √† ne pas oublier üìù</h3>
                <p style="text-align: center; color: #555;">Quelques preuves √† d√©faut d'un contrat.</p>
                <ul>
                    <li><a href="[LIEN VERS LE DOCUMENT PDF]" target="_blank">Documents</a></li>
                    <li><a href="[LIEN VERS LA R√àGLE]" target="_blank">R√®gles</a></li>
                    <li><a href="[LIEN VERS LE SCREEN DE CONV 1]" target="_blank">Screen</a></li>
                    <li><a href="[LIEN VERS LE SCREEN DE CONV 2]" target="_blank">Screen encore</a></li>
                    <li><a href="[LIEN VERS LE SCREEN DE CONV 3]" target="_blank">Screen toujours</a></li>
                    <li><a href="[LIEN VERS LE SCREEN DE CONV 4]" target="_blank">Screen encore et toujours</a></li>
                </ul>
            </section>
            
        </main>
    </div>

    <script>
        const correctPassword = "Pupuce"; 

        function checkPassword() {
            const input = document.getElementById('password-input').value;
            const errorMessage = document.getElementById('error-message');
            
            if (input === correctPassword) {
                document.getElementById('password-screen').style.display = 'none';
                document.getElementById('main-content').style.display = 'block';
                sessionStorage.setItem('isAuthenticated', 'true');
                startTimer(); 
            } else {
                // FIX CRITIQUE: Affiche le message d'erreur personnalis√©
                errorMessage.textContent = "nan c'est pas √ßa t nul";
            }
        }
        
        // FIX: La fonction onload est appel√©e au chargement initial et au retour √† l'accueil
        window.onload = function() {
            if (sessionStorage.getItem('isAuthenticated') === 'true') {
                document.getElementById('password-screen').style.display = 'none';
                document.getElementById('main-content').style.display = 'block';
                startTimer();
            }
        };

        // ===================================
        // LOGIQUE DES CHRONOM√àTRES (FIX√âE ET COMPL√âT√âE)
        // ===================================

        const startDatePC = new Date(2025, 3, 25, 0, 0, 0); 
        const startDateReal = new Date(2025, 2, 5, 0, 0, 0); 
        
        const second = 1000;
        const minute = second * 60;
        const hour = minute * 60;
        const day = hour * 24;

        function updateTimer(startDate, prefix) {
            const now = new Date();
            const difference = now.getTime() - startDate.getTime();

            // 1. Calcul Ann√©es, Mois, Jours (Bas√© sur les dates)
            let dateYears = now.getFullYear() - startDate.getFullYear();
            let dateMonths = now.getMonth() - startDate.getMonth();
            let dateDays = now.getDate() - startDate.getDate();

            if (dateDays < 0) {
                dateMonths--;
                const lastMonth = new Date(now.getFullYear(), now.getMonth(), 0);
                dateDays = lastMonth.getDate() + dateDays;
            }

            if (dateMonths < 0) {
                dateYears--;
                dateMonths += 12;
            }

            // 2. Calcul du temps restant (H, M, S, MS) - MODULO JOUR
            const msInDay = 24 * 60 * 60 * 1000;
            let timeOnlyMs = difference % msInDay; 

            let h = Math.floor(timeOnlyMs / hour);
            timeOnlyMs %= hour;

            let m = Math.floor(timeOnlyMs / minute);
            timeOnlyMs %= minute;

            let s = Math.floor(timeOnlyMs / second);
            let ms = Math.floor(timeOnlyMs % second);

            // 3. Mise √† jour de l'affichage
            if (document.getElementById(`years-${prefix}`)) {
                document.getElementById(`years-${prefix}`).innerText = String(dateYears).padStart(2, '0');
                document.getElementById(`months-${prefix}`).innerText = String(dateMonths).padStart(2, '0');
                document.getElementById(`days-${prefix}`).innerText = String(dateDays).padStart(2, '0');
                document.getElementById(`hours-${prefix}`).innerText = String(h).padStart(2, '0');
                document.getElementById(`minutes-${prefix}`).innerText = String(m).padStart(2, '0');
                document.getElementById(`seconds-${prefix}`).innerText = String(s).padStart(2, '0');
                document.getElementById(`milliseconds-${prefix}`).innerText = String(ms).padStart(3, '0').slice(0, 3);
            }
        }

        function startTimer() {
            function updateAllTimers() {
                updateTimer(startDatePC, 'pc');
                updateTimer(startDateReal, 'real');
            }
            
            updateAllTimers(); 
            setInterval(updateAllTimers, 10);
        }

    </script>
</body>
</html>
